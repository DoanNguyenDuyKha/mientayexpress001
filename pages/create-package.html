<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tạo đơn hàng - Miền Tây Express</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../css/create-package.css">
    <link rel="stylesheet" href="../css/package_manager.css">

</head>
<body>
    <script>
        localStorage.removeItem('createPackageStep1');
        localStorage.removeItem('wizardData');
        function updateHeaderBlur() {
            var header = document.querySelector('.header');
            var anyModalOpen = false;
            document.querySelectorAll('.modal').forEach(function(modal){
                var style = window.getComputedStyle(modal);
                if(style.display === 'flex' || style.display === 'block') anyModalOpen = true;
            });
            if(document.querySelector('.announcement-overlay.visible')) anyModalOpen = true;
            if (header) {
                if (anyModalOpen) {
                    header.classList.add('blurred');
                    if (!header.querySelector('.header-dark-overlay')) {
                        var overlay = document.createElement('div');
                        overlay.className = 'header-dark-overlay';
                        header.appendChild(overlay);
                    }
                } else {
                    header.classList.remove('blurred');
                    var overlay = header.querySelector('.header-dark-overlay');
                    if (overlay) overlay.remove();
                }
            }
        }
        </script>
    <div class="modal-overlay" id="terms-modal-overlay"></div>
    <div class="modal" id="terms-modal" role="dialog" aria-labelledby="modal-title" aria-modal="true" tabindex="-1">
        <div class="modal-header">
            <h2 class="modal-title" id="modal-title"><i class="fa-solid fa-file-contract icon"></i> Điều khoản Quy định</h2>
            <button class="modal-close-btn" id="modal-exit-btn-x" aria-label="Đóng">×</button>
        </div>
        <div class="modal-body">
            <p><strong>1. Lorem Ipsum chỉ đơn giản là một đoạn văn bản giả, được dùng vào việc trình bày và dàn trang phục vụ cho in ấn. Lorem Ipsum đã được sử dụng như một văn bản chuẩn cho ngành công nghiệp in ấn từ những năm 1500, khi một họa sĩ vô danh ghép nhiều đoạn văn bản với nhau để tạo thành một bản mẫu văn bản. Đoạn văn bản này không những đã tồn tại năm thế kỉ, mà khi được áp dụng vào tin học văn phòng, nội dung của nó vẫn không hề bị thay đổi. Nó đã được phổ biến trong những năm 1960 nhờ việc bán những bản giấy Letraset in những đoạn Lorem Ipsum, và gần đây hơn, được sử dụng trong các ứng dụng dàn trang, như Aldus PageMaker.</strong></p>
        </div>
        <div class="modal-footer">
            <div class="modal-terms-agreement">
                <input type="checkbox" id="modal_terms_agree" name="modal_terms_agree">
                <label for="modal_terms_agree">Tôi đã đọc và đồng ý với <a href="#" class="modal-link-underline">Điều khoản quy định</a></label>
            </div>
            <div class="modal-action-buttons">
                 <button type="button" class="button secondary" id="modal-exit-btn">
                     <i class="fa-solid fa-xmark"></i> Thoát
                 </button>
                 <button type="button" class="button confirm" id="modal-agree-btn" disabled>
                     <i class="fa-solid fa-check"></i> Tạo đơn
                 </button>
            </div>
        </div>
    </div>

    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <img src="../images/logo-removebg.png" alt="Mien Tay Express Logo" class="logo">
        </div>
        <nav class="menu-items" aria-label="Main Navigation">
             <ul>
                <li><a href="../home.html"><i class="fa-solid fa-house icon"></i><span class="menu-text">TRANG CHỦ</span></a></li>
                 <li><a href="create-package.html" class="active"><i class="fa-solid fa-plus icon"></i><span class="menu-text">TẠO ĐƠN HÀNG</span></a></li>
                 <li>
                     <a href="#" class="submenu-parent"> <i class="fa-solid fa-chart-pie icon"></i><span class="menu-text">QUẢN LÝ</span><i class="fa-solid fa-chevron-down submenu-arrow"></i> </a>
                     <div class="submenu">
                         <ul>
                             <li><a href="package_manager.html"><i class="fa-solid fa-box-archive icon"></i><span class="menu-text">Quản lý đơn hàng</span></a></li>
                             <li><a href="straking-bill-of-lading-status.html"><i class="fa-solid fa-list-check icon"></i><span class="menu-text">Quản lý trạng thái</span></a></li>
                             <li><a href="pickup-package.html"><i class="fa-solid fa-truck-fast icon"></i><span class="menu-text">Quản lý vận chuyển</span></a></li>
                             <li><a href="#"><i class="fa-solid fa-building-user icon"></i><span class="menu-text">Quản lý chi nhánh</span></a></li>
                             <li><a href="payment-management.html"><i class="fa-solid fa-dollar-sign icon"></i><span class="menu-text">Quản lý thanh toán</span></a></li>
                         </ul>
                     </div>
                 </li>
                 <li><a href="statistics_management.html"><i class="fa-solid fa-chart-line icon"></i><span class="menu-text">THỐNG KÊ</span></a></li>
                 <li><a href="service-management.html"><i class="fa-solid fa-screwdriver-wrench icon"></i><span class="menu-text">QL DỊCH VỤ</span></a></li>
                 <li>
                     <a href="#" class="submenu-parent"><i class="fa-solid fa-users icon"></i><span class="menu-text">QL KHÁCH HÀNG</span><i class="fa-solid fa-chevron-down submenu-arrow"></i></a>
                     <div class="submenu">
                         <ul>
                            <li><a href="customer-list.html"><span class="menu-text">Danh sách KH</span></a></li>
                            <li><a href="customer-add.html"><span class="menu-text">Thêm mới KH</span></a></li>
                         </ul>
                     </div>
                 </li>
                  <li>
                      <a href="#" class="submenu-parent"><i class="fa-solid fa-user-tie icon"></i><span class="menu-text">QUẢN LÝ NHÂN SỰ</span><i class="fa-solid fa-chevron-down submenu-arrow"></i></a>
                      <div class="submenu">
                          <ul>
                            <li><a href="employee-list.html"><span class="menu-text">Danh sách NV</span></a></li>
                            <li><a href="#"><span class="menu-text">Phân quyền</span></a></li>
                          </ul>
                      </div>
                  </li>
                 <li><a href="#"><i class="fa-solid fa-circle-info icon"></i><span class="menu-text">THÔNG TIN CÔNG TY</span></a></li>
                  <li>
                      <a href="#" class="submenu-parent"><i class="fa-solid fa-scroll icon"></i><span class="menu-text">QL CHÍNH SÁCH</span><i class="fa-solid fa-chevron-down submenu-arrow"></i></a>
                       <div class="submenu">
                          <ul>
                            <li><a href="#"><span class="menu-text">Chính sách A</span></a></li>
                            <li><a href="#"><span class="menu-text">Chính sách B</span></a></li>
                          </ul>
                      </div>
                  </li>
                 <li><a href="#"><i class="fa-solid fa-circle-question icon"></i><span class="menu-text">HƯỚNG DẪN SỬ DỤNG</span></a></li>
                 <li>
                     <a href="#" class="submenu-parent"><i class="fa-solid fa-gear icon"></i><span class="menu-text">CÀI ĐẶT CHUNG</span><i class="fa-solid fa-chevron-down submenu-arrow"></i></a>
                      <div class="submenu">
                          <ul>
                            <li><a href="#"><span class="menu-text">Cài đặt A</span></a></li>
                            <li><a href="#"><span class="menu-text">Cài đặt B</span></a></li>
                          </ul>
                      </div>
                  </li>
             </ul>
         </nav>
    </aside>

    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <main class="main-content">
        <header class="header">
            <button class="mobile-sidebar-toggle" id="mobile-sidebar-toggle" aria-label="Toggle Navigation Menu" aria-controls="sidebar" aria-expanded="false"> <i class="fa-solid fa-bars"></i> </button>
            <div class="header-left">
                <div class="search-container">
                    <i class="fa-solid fa-magnifying-glass search-icon"></i>
                    <input type="text" class="header-search-input" placeholder="Tìm kiếm...">
                </div>
            </div>
            <div class="header-actions" style="display: flex; align-items: center; gap: 1.2rem; margin-left: auto;">
                <div class="notification-wrapper">
                    <button class="notification-button" id="notification-button" title="Thông báo">
                        <i class="fa-regular fa-bell"></i>
                        <span class="notification-badge">5</span>
                    </button>
                    <div class="notification-dropdown" id="notification-dropdown">
                        <div class="dropdown-header">Thông báo</div>
                        <ul class="notification-list" id="notification-list">
                            <li class="notification-item" data-title="Thông báo: DỜI CUT OFF CANADA 24/08/2024" data-body="Do lượng hàng T7 (24/08/2024) không đủ tải, chuyến tuyến MTE-CAD sẽ kết nối hàng vào chuyến bay sớm nhất (Cs sẽ update giờ cut off mới)||MTE xin lỗi Quý khách vì sự chậm trễ gây ra bất tiện cho khách hàng.||Rất mong nhận sự thông cảm của Quý khách hàng.||Cs tuyến Canada." data-timestamp="2024-07-25 13:53:27">
                                <div class="item-icon"><i class="fa-solid fa-calendar-xmark"></i></div>
                                <div class="item-content">
                                    <div class="item-title">Dời Cut off Canada 24/08/2024</div>
                                    <div class="item-time">25 Jul 2024</div>
                                </div>
                            </li>
                            <li class="notification-item" data-title="Thông báo: Cập nhật hệ thống" data-body="Hệ thống sẽ được bảo trì vào lúc 02:00 AM ngày 30/07/2024. Vui lòng lưu lại công việc trước thời gian này." data-timestamp="2024-07-28 10:00:00">
                                <div class="item-icon"><i class="fa-solid fa-wrench"></i></div>
                                <div class="item-content">
                                    <div class="item-title">Cập nhật hệ thống 30/07</div>
                                    <div class="item-time">28 Jul 2024</div>
                                </div>
                            </li>
                            <li class="notification-item" data-title="Thông báo: Khuyến mãi mới" data-body="Chương trình khuyến mãi hè 2024 đã bắt đầu! Giảm giá 10% cho các tuyến đi Mỹ." data-timestamp="2024-07-20 09:00:00">
                                <div class="item-icon"><i class="fa-solid fa-tags"></i></div>
                                <div class="item-content">
                                    <div class="item-title">Khuyến mãi hè 2024!</div>
                                    <div class="item-time">20 Jul 2024</div>
                                </div>
                            </li>
                        </ul>
                        <div class="dropdown-footer"><a href="#">Xem tất cả</a></div>
                    </div>
                </div>
                <div class="user-container" style="position: relative;">
                    <div class="user-dropdown-toggle" id="user-dropdown-toggle" style="display: flex; align-items: center; gap: 6px; background: #2563eb; border-radius: 7px; padding: 6px 14px; cursor: pointer;">
                        <i class="fa-regular fa-circle-user user-icon" id="user-icon" style="color: #fff; font-size: 1.25em;"></i>
                    </div>
                    <div class="user-dropdown" id="user-dropdown">
                        <a href="#" class="user-dropdown-item" id="profile-link"><i class="fa-regular fa-user"></i> Profile</a>
                        <a href="#" class="user-dropdown-item" id="login-link"><i class="fa-solid fa-right-to-bracket"></i> Đăng nhập</a>
                        <a href="#" class="user-dropdown-item" id="logout-link"><i class="fa-solid fa-right-from-bracket"></i> Đăng xuất</a>
                    </div>
                </div>
            </div>
        </header>

        <div class="content-wrapper">
            <section class="page-header">
                 <div class="page-header-left">
                     <h1 class="page-title">Tạo đơn hàng</h1>
                     <nav class="breadcrumb" aria-label="breadcrumb"> <a href="#">Tạo đơn hàng</a> / <span>Step 1</span> </nav>
                 </div>
             </section>

             <form id="create-order-form" novalidate autocomplete="off">
               <div class="wizard-steps-container">
                 <div class="wizard-step-content step-1 active">
                   <section class="card form-section">
                       <div class="card-header">
                           <h2 class="card-title"><i class="fas fa-user icon"></i> Người gửi (SENDER)</h2>
                       </div>
                       <div class="card-body">
                           <div class="form-group">
                               <label for="sender_preset">Người gửi<span class="required">*</span></label>
                               <select id="sender_preset" name="sender_preset" required>
                                   <option value="" selected>Chọn người gửi</option>
                                   <option value="tpd">TRẦN PHÚC ĐƯỜNG - Công ty TNHH Thương Mại và Dịch Vụ Nina - 0909951549</option>
                                   <option value="nina">NINA CO.,LTD - 028 1234 5678</option>
                                   <option value="other">Khác...</option>
                               </select>
                               <span class="error-message"></span>
                           </div>
                           <div class="form-group">
                               <label for="sender_company">Tên công ty</label>
                               <input type="text" id="sender_company" name="sender_company" value="" autocomplete="off">
                               <span class="error-message"></span>
                           </div>
                           <div class="form-group inline-group multi-input" aria-labelledby="sender_contact_label">
                                 <span id="sender_contact_label" class="visually-hidden">Sender Name and Contact</span>
                                <div class="input-group">
                                    <label for="sender_name">Tên người gửi<span class="required">*</span></label>
                                    <input type="text" id="sender_name" name="sender_name" value="" autocomplete="off">
                                    <span class="error-message"></span>
                                </div>
                                <div class="input-group">
                                    <label for="sender_phone">Số liên hệ<span class="required">*</span></label>
                                    <input type="tel" id="sender_phone" name="sender_phone" value="" autocomplete="off">
                                    <span class="error-message"></span>
                                </div>
                              </div>
                              <div class="form-group">
                                  <label for="sender_city">Chọn địa chỉ<span class="required">*</span></label>
                                  <div class="input-group-3">
                                      <select id="sender_city" name="sender_city" required title="Chọn Tỉnh/Thành phố">
                                          <option value="" selected>Chọn Tỉnh/Thành phố</option>
                                          <option value="hcm">TP.HCM</option>
                                          <option value="hn">Hà Nội</option>
                                          <option value="ct">Cần Thơ</option>
                                      </select>
                                      <select id="sender_district" name="sender_district" required title="Chọn Quận/Huyện">
                                          <option value="" selected>Chọn Quận / Huyện</option>
                                          <option value="q1">Quận 1</option>
                                          <option value="q12">Quận 12</option>
                                          <option value="tp">Tân Phú</option>
                                      </select>
                                      <select id="sender_ward" name="sender_ward" required title="Chọn Phường/Xã">
                                          <option value="" selected>Chọn Phường / Xã</option>
                                          <option value="tch">Tân Chánh Hiệp</option>
                                          <option value="tth">Tân Thới Hiệp</option>
                                      </select>
                                  </div>
                                  <span class="error-message group-error"></span>
                              </div>
                              <div class="form-group">
                                  <label for="sender_address">Địa chỉ<span class="required">*</span></label>
                                  <textarea id="sender_address" name="sender_address" required autocomplete="off"></textarea>
                                  <span class="error-message"></span>
                              </div>
                          </div>
                      </section>
                      <div class="wizard-actions"><button type="button" class="button primary next-step">Tiếp tục</button></div>
                   </div>
                   <div class="wizard-step-content step-2">
                     <section class="card form-section">
                         <div class="card-header">
                             <h2 class="card-title"><i class="fas fa-box-open icon"></i> Người nhận (RECEIVER)</h2>
                             <div class="address-book-select">
                                 <label for="receiver_address_book" class="visually-hidden">Chọn từ danh bạ</label>
                                 <select id="receiver_address_book" name="receiver_address_book" title="Chọn từ danh bạ">
                                      <option value="" selected>Danh sách người nhận</option>
                                      <option value="saved1">HIEP THANH RUBBER...</option>
                                 </select>
                             </div>
                         </div>
                         <div class="card-body">
                              <div class="form-group">
                                 <label for="receiver_company">Tên công ty</label>
                                 <input type="text" id="receiver_company" name="receiver_company" value="" autocomplete="off">
                                 <span class="error-message"></span>
                             </div>
                             <div class="form-group">
                                 <label for="receiver_name">Tên người nhận<span class="required">*</span></label>
                                 <input type="text" id="receiver_name" name="receiver_name" value="" required autocomplete="off">
                                 <span class="error-message"></span>
                             </div>
                              <div class="form-group inline-group multi-input" aria-labelledby="receiver_phone_label">
                                  <span id="receiver_phone_label" class="visually-hidden">Receiver Contact Numbers</span>
                                  <div class="input-group">
                                      <label for="receiver_phone1">Số điện thoại 1<span class="required">*</span></label>
                                      <div class="phone-input-group">
                                          <select id="receiver_phone1_code" name="receiver_phone1_code" title="Mã quốc gia SĐT 1">
                                              <option value="+84" selected>+84</option>
                                              <option value="+1">+1</option>
                                              <option value="+44">+44</option>
                                          </select>
                                          <input type="tel" id="receiver_phone1" name="receiver_phone1" value="" required autocomplete="off">
                                      </div>
                                      <span class="error-message"></span>
                                  </div>
                                  <div class="input-group">
                                       <label for="receiver_phone2">Số điện thoại 2</label>
                                       <div class="phone-input-group">
                                          <select id="receiver_phone2_code" name="receiver_phone2_code" title="Mã quốc gia SĐT 2">
                                              <option value="+84" selected>+84</option>
                                              <option value="+1">+1</option>
                                              <option value="+44">+44</option>
                                          </select>
                                          <input type="tel" id="receiver_phone2" name="receiver_phone2" value="" autocomplete="off">
                                       </div>
                                      <span class="error-message"></span>
                                  </div>
                             </div>
                             <div class="form-grid-2col">
                                 <div class="form-group">
                                     <label for="receiver_country">Quốc gia<span class="required">*</span></label>
                                     <select id="receiver_country" name="receiver_country" required>
                                         <option value="US" selected>UNITED STATES</option>
                                         <option value="GB">UNITED KINGDOM</option>
                                      </select>
                                      <span class="error-message"></span>
                                 </div>
                                 <div class="form-group">
                                     <label for="receiver_postcode">Postcode</label>
                                     <input type="text" id="receiver_postcode" name="receiver_postcode" value="" autocomplete="off">
                                      <span class="error-message"></span>
                                 </div>
                                 <div class="form-group">
                                     <label for="receiver_city">Thành phố<span class="required">*</span></label>
                                     <input type="text" id="receiver_city" name="receiver_city" value="" required placeholder="Nhập tên thành phố" autocomplete="off">
                                      <span class="error-message"></span>
                                 </div>
                                 <div class="form-group">
                                     <label for="receiver_state">Tỉnh/Bang<span class="required">*</span></label>
                                     <input type="text" id="receiver_state" name="receiver_state" value="" required autocomplete="off">
                                      <span class="error-message"></span>
                                 </div>
                             </div>
                             <div class="form-group">
                                 <label for="receiver_address">Địa chỉ chi tiết<span class="required">*</span></label>
                                 <textarea id="receiver_address" name="receiver_address" required autocomplete="off"></textarea>
                                 <span class="helper-text">(Không nhập POST CODE,STATE,CITY)</span>
                                 <span class="error-message"></span>
                             </div>
                             <div class="form-group">
                                 <label for="receiver_notes">Ghi chú</label>
                                 <textarea id="receiver_notes" name="receiver_notes" autocomplete="off"></textarea>
                                  <span class="error-message"></span>
                             </div>
                             <div class="checkbox-group">
                                 <label> <input type="checkbox" name="save_receiver" value="1" checked> Lưu thông tin người nhận cho lần nhập tiếp theo </label>
                             </div>
                         </div>
                     </section>
                     <div class="wizard-actions"><button type="button" class="button secondary prev-step">Quay lại</button><button type="button" class="button primary next-step">Tiếp tục</button></div>
                   </div>
                   <div class="wizard-step-content step-3">
                     <section class="card form-section">
                         <div class="card-header">
                             <h2 class="card-title"><i class="fas fa-concierge-bell icon"></i> Chọn dịch vụ (SERVICES)</h2>
                         </div>
                         <div class="card-body">
                             <div class="form-group">
                                 <span class="form-label">Lý do gửi hàng<span class="required">*</span></span>
                                 <div class="radio-group" role="radiogroup" aria-labelledby="send_reason_label">
                                   <span id="send_reason_label" class="visually-hidden">Lý do gửi hàng</span>
                                     <label> <input type="radio" name="send_reason" value="gift" required> Gift (no commercial value) </label>
                                     <label> <input type="radio" name="send_reason" value="sample" required> Sample </label>
                                 </div>
                                  <span class="error-message group-error"></span>
                             </div>
                                  <div class="form-group">
                                      <span class="form-label">Loại bưu gửi<span class="required">*</span></span>
                                     <div class="radio-group" role="radiogroup" aria-labelledby="package_type_label">
                                         <span id="package_type_label" class="visually-hidden">Loại bưu gửi</span>
                                         <label> <input type="radio" name="package_type" value="goods" required> Hàng hóa </label>
                                         <label> <input type="radio" name="package_type" value="document" required> Tài liệu </label>
                                     </div>
                                      <span class="error-message group-error"></span>
                                 </div>
                                 <div class="form-grid-2col">
                                     <div class="form-group">
                                         <label for="service_type">Chọn dịch vụ<span class="required">*</span></label>
                                         <select id="service_type" name="service_type" required>
                                             <option value="MTE_DHL_SIN" selected>MTE DHL SIN</option>
                                             <option value="MTE_FEDEX_SIN">MTE FEDEX SIN</option>
                                          </select>
                                          <span class="error-message"></span>
                                     </div>
                                     <div class="form-group">
                                         <label for="branch">Chi nhánh<span class="required">*</span></label>
                                         <select id="branch" name="branch" required>
                                             <option value="TanPhu" selected>Tân Phú - HCM</option>
                                             <option value="BinhTan">Bình Tân</option>
                                          </select>
                                          <span class="error-message"></span>
                                     </div>
                                 </div>
                                  <span class="warning-note">Lưu ý*: Một số dịch vụ chỉ nhận từ 20kg trở lên</span>
                                  <div class="form-group">
                                      <span class="form-label">Dịch vụ đi kèm</span>
                                     <div class="checkbox-group">
                                         <label><input type="checkbox" name="add_service[]" value="signature"> Chữ Ký</label>
                                         <label><input type="checkbox" name="add_service[]" value="fumigation"> FUMIGATION</label>
                                         <label><input type="checkbox" name="add_service[]" value="packing"> Đóng kiện gỗ</label>
                                         <label><input type="checkbox" name="add_service[]" value="insurance" checked> Bảo hiểm hàng hóa</label>
                                     </div>
                                 </div>
                                 <div class="form-group">
                                      <span class="form-label">Hình thức gửi hàng<span class="required">*</span></span>
                                     <div class="radio-group" role="radiogroup" aria-labelledby="pickup_method_label">
                                       <span id="pickup_method_label" class="visually-hidden">Hình thức gửi hàng</span>
                                         <label> <input type="radio" name="pickup_method" value="pickup" required> Thu gom tận nơi </label>
                                         <label> <input type="radio" name="pickup_method" value="dropoff" required> Gửi hàng tại bưu cục </label>
                                     </div>
                                      <span class="error-message group-error"></span>
                                 </div>
                             </div>
                         </section>
                         <div class="wizard-actions"><button type="button" class="button secondary prev-step">Quay lại</button><button type="button" class="button primary next-step">Tiếp tục</button></div>
                   </div>
                   <div class="wizard-step-content step-4">
                     <section class="card form-section">
                         <div class="card-header">
                             <h2 class="card-title"><i class="fas fa-file-invoice-dollar icon"></i> Yêu cầu đơn hàng (BILL REQUIREMENT)</h2>
                         </div>
                         <div class="card-body">
                             <div class="form-group">
                                 <span class="form-label">Tình trạng đơn<span class="required">*</span></span>
                                 <div class="radio-group" role="radiogroup" aria-labelledby="bill_status_label">
                                   <span id="bill_status_label" class="visually-hidden">Tình trạng đơn</span>
                                     <label> <input type="radio" name="bill_status" value="remote" required> Vùng sâu vùng xa </label>
                                     <label> <input type="radio" name="bill_status" value="vat" required> VAT (8%) </label>
                                      <label> <input type="radio" name="bill_status" value="no_invoice" required> Không xuất Hóa Đơn </label>
                                 </div>
                                  <span class="error-message group-error"></span>
                             </div>
                                 <div class="form-grid-2col">
                                     <div class="form-group">
                                         <label for="agent">Chọn Đại lý<span class="required">*</span></label>
                                         <select id="agent" name="agent" required>
                                             <option value="quynam" selected>Quý Nam</option>
                                          </select>
                                          <span class="error-message"></span>
                                     </div>
                                     <div class="form-group">
                                         <label for="invoice_code">Mã INV</label>
                                         <input type="text" id="invoice_code" name="invoice_code" value="">
                                          <span class="error-message"></span>
                                     </div>
                                     <div class="form-group">
                                         <label for="ops_coord">OPS điều phối</label>
                                         <select id="ops_coord" name="ops_coord">
                                             <option value="dangvancuong" selected>Đặng Văn Cường - OP...</option>
                                          </select>
                                          <span class="error-message"></span>
                                     </div>
                                     <div class="form-group">
                                         <label for="cs_handler">CS xử lý</label>
                                         <select id="cs_handler" name="cs_handler">
                                             <option value="alice" selected>Alice in the Wonder L...</option>
                                          </select>
                                          <span class="error-message"></span>
                                     </div>
                                 </div>
                             </div>
                         </section>
                         <div class="wizard-actions"><button type="button" class="button secondary prev-step">Quay lại</button><button type="submit" class="button confirm">Tạo đơn</button></div>
                   </div>
               </div>
             </form>

             <footer class="site-footer">
                 Miền Tây Express © <span id="current-year"></span>. All rights reserved. Design by Nina Co.,Ltd
             </footer>
        </div>
    </main>

    <div class="announcement-overlay" id="announcement-overlay">
        <div class="announcement-box" id="announcement-box">
            <div class="announcement-header">
                <h3 id="announcement-title">Tiêu đề thông báo</h3>
                <button class="announcement-close-btn" id="announcement-close-btn" title="Đóng thông báo">×</button>
            </div>
            <div class="announcement-body" id="announcement-body">
                Nội dung chi tiết của thông báo sẽ được hiển thị ở đây.
            </div>
            <div class="announcement-footer">
                <span id="announcement-timestamp">Thời gian</span>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const body = document.body;
            const sidebar = document.getElementById('sidebar');
            const sidebarOverlay = document.getElementById('sidebar-overlay');
            const mobileSidebarToggleBtn = document.getElementById('mobile-sidebar-toggle');
            const desktopSidebarToggleBtn = document.querySelector('.sidebar-toggle-desktop');
            const currentDateSpan = document.getElementById('current-date');
            const currentTimeSpan = document.getElementById('current-time');
            const currentYearSpan = document.getElementById('current-year');
            const fullscreenBtn = document.getElementById('fullscreen-btn');
            const termsModal = document.getElementById('terms-modal');
            const termsOverlay = document.getElementById('terms-modal-overlay');
            const agreeCheckbox = document.getElementById('modal_terms_agree');
            const agreeButton = document.getElementById('modal-agree-btn');
            const exitButtonX = document.getElementById('modal-exit-btn-x');
            const exitButtonFooter = document.getElementById('modal-exit-btn');
            const form = document.getElementById('create-order-form');

            const notificationButton = document.getElementById('notification-button');
            const notificationDropdown = document.getElementById('notification-dropdown');
            const notificationList = document.getElementById('notification-list');
            const announcementOverlay = document.getElementById('announcement-overlay');
            const announcementBox = document.getElementById('announcement-box');
            const announcementCloseBtn = document.getElementById('announcement-close-btn');
            const announcementTitle = document.getElementById('announcement-title');
            const announcementBodyEl = document.getElementById('announcement-body');
            const announcementTimestamp = document.getElementById('announcement-timestamp');

            const manageBodyScroll = () => {
                const isModalOpen = body.classList.contains('modal-open');
                const isSidebarOpen = body.classList.contains('sidebar-mobile-open');
                const isAnnounceVisible = announcementOverlay && announcementOverlay.classList.contains('visible');
                body.style.overflow = (isModalOpen || isSidebarOpen || isAnnounceVisible) ? 'hidden' : '';
            };

            function toggleSidebarMobileOrDesktop() {
                if (window.innerWidth > 768) {
                    body.classList.toggle('sidebar-collapsed');
                    const isCollapsed = body.classList.contains('sidebar-collapsed');
                    if (isCollapsed) {
                        document.querySelectorAll('.menu-items .submenu.active').forEach(submenu => {
                            submenu.classList.remove('active');
                            submenu.previousElementSibling?.classList.remove('active');
                        });
                    }
                } else {
                    body.classList.toggle('sidebar-mobile-open');
                }
                const isOpen = body.classList.contains('sidebar-mobile-open') || !body.classList.contains('sidebar-collapsed');
                if (mobileSidebarToggleBtn) mobileSidebarToggleBtn.setAttribute('aria-expanded', String(isOpen));
                manageBodyScroll();
            }

            function toggleSubmenu(event) {
                event.preventDefault();
                if (body.classList.contains('sidebar-collapsed') && window.innerWidth > 768) return;
                const parentLink = event.currentTarget;
                const submenuWrapper = parentLink.nextElementSibling;
                if (!submenuWrapper || !submenuWrapper.classList.contains('submenu')) return;
                if (!parentLink.classList.contains('active')) {
                    document.querySelectorAll('.menu-items .submenu-parent.active').forEach(activeParent => {
                        if (activeParent !== parentLink) {
                            activeParent.classList.remove('active');
                            activeParent.nextElementSibling?.classList.remove('active');
                        }
                    });
                }
                submenuWrapper.classList.toggle('active');
                parentLink.classList.toggle('active');
            }

            function initializeActiveSubmenu() {
                const activeSubmenuLink = document.querySelector('.sidebar .submenu a.active');
                if (activeSubmenuLink) {
                    const submenuDiv = activeSubmenuLink.closest('.submenu');
                    const parentLink = submenuDiv?.previousElementSibling;
                    if(submenuDiv && parentLink && parentLink.classList.contains('submenu-parent')) {
                        submenuDiv.classList.add('active');
                        parentLink.classList.add('active');
                    }
                }
            }

            function updateDateTime() {
                const now = new Date();
                const optionsDate = { weekday: 'short', day: '2-digit', month: '2-digit', year: 'numeric' };
                const optionsTime = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: true };
                if (currentDateSpan) currentDateSpan.textContent = now.toLocaleDateString('en-GB', optionsDate).replace(/,/g, '');
                if (currentTimeSpan) currentTimeSpan.textContent = now.toLocaleTimeString('en-US', optionsTime);
                if (currentYearSpan) currentYearSpan.textContent = now.getFullYear();
            }

            function toggleFullscreen() {
                if (!document.fullscreenElement) {
                    document.documentElement.requestFullscreen().catch(err => {});
                } else if (document.exitFullscreen) {
                    document.exitFullscreen();
                }
            }
            function handleFullscreenChange() {
                 const isFullscreen = !!document.fullscreenElement;
                 const icon = fullscreenBtn?.querySelector('i');
                 if(icon){
                     icon.classList.toggle('fa-expand', !isFullscreen);
                     icon.classList.toggle('fa-compress', isFullscreen);
                 }
                  if(fullscreenBtn) {
                      fullscreenBtn.setAttribute('title', isFullscreen ? 'Exit Fullscreen' : 'Fullscreen');
                  }
            }

            function openModal() {
                if (termsModal && termsOverlay) {
                    termsOverlay.classList.add('active');
                    termsModal.classList.add('active');
                    body.classList.add('modal-open');
                    manageBodyScroll();
                    agreeCheckbox.checked = false;
                    if (agreeButton) agreeButton.disabled = true;
                    termsModal.focus();
                }
            }

            function closeModal() {
                if (termsModal && termsOverlay) {
                    termsOverlay.classList.remove('active');
                    termsModal.classList.remove('active');
                    body.classList.remove('modal-open');
                    manageBodyScroll();
                }
            }

            function handleAgree() {
                if (agreeCheckbox && agreeCheckbox.checked) {
                    closeModal();
                    document.getElementById('sender_preset')?.focus();
                } else {
                     if (agreeButton) agreeButton.disabled = true;
                }
            }

            function addErrorMessage(field, message) {
                const container = field.closest('.input-group') || field.closest('.form-group') || field.closest('.terms-agreement') || field.parentElement;
                if (!container) return;
                const fieldIdentifier = field.id || field.name;
                if (!fieldIdentifier) return;

                const existingError = container.querySelector(`.error-message[data-field="${fieldIdentifier}"]`) || container.parentNode.querySelector(`.error-message.group-error[data-group="${fieldIdentifier}"]`);
                if (existingError) existingError.remove();

                const errorSpan = document.createElement('span');
                errorSpan.className = 'error-message';
                errorSpan.dataset.field = fieldIdentifier;
                errorSpan.textContent = message;
                errorSpan.style.color = 'var(--danger-color)';
                errorSpan.style.fontSize = '0.8em';
                errorSpan.style.marginTop = '4px';
                errorSpan.style.display = 'block';

                if (field.type === 'radio' || field.type === 'checkbox') {
                    const groupContainer = field.closest('.radio-group, .checkbox-group, .terms-agreement');
                    if (groupContainer) {
                        errorSpan.classList.add('group-error');
                        errorSpan.dataset.group = field.name || field.id;
                        if(groupContainer.classList.contains('terms-agreement')) {
                            groupContainer.appendChild(errorSpan);
                        } else {
                            groupContainer.parentNode.appendChild(errorSpan);
                        }
                        const mainLabel = groupContainer.closest('.form-group')?.querySelector('.form-label');
                        if (mainLabel) mainLabel.classList.add('error');
                    }
                } else {
                    container.appendChild(errorSpan);
                    const label = container.querySelector(`label[for="${field.id}"]`);
                    if (label) label.classList.add('error');
                }
                field.classList.add('error');
            }

            function removeErrorMessage(field) {
                const container = field.closest('.input-group') || field.closest('.form-group') || field.closest('.terms-agreement') || field.parentElement;
                if (!container) return;

                const fieldIdentifier = field.id || field.name;
                if (!fieldIdentifier) return;

                const errorMessages = container.querySelectorAll(`.error-message[data-field="${fieldIdentifier}"]`);
                errorMessages.forEach(msg => msg.remove());
                field.classList.remove('error');

                if (field.type === 'radio' || field.type === 'checkbox') {
                     const groupContainer = field.closest('.radio-group, .checkbox-group, .terms-agreement');
                     if (groupContainer) {
                          let isGroupValid = false;
                          if (field.type === 'radio') {
                              isGroupValid = !!form.querySelector(`input[name="${field.name}"]:checked`);
                          } else {
                              isGroupValid = field.checked || !field.required;
                              if (field.id === 'terms_agree') isGroupValid = field.checked;
                          }
                          if (isGroupValid) {
                              const groupError = container.parentNode.querySelector(`.error-message.group-error[data-group="${fieldIdentifier}"]`) || groupContainer.querySelector('.error-message');
                              if (groupError) groupError.remove();
                              const mainLabel = groupContainer.closest('.form-group')?.querySelector('.form-label');
                              if (mainLabel) mainLabel.classList.remove('error');
                               const termsLabel = groupContainer.querySelector('label[for="terms_agree"]');
                               if(termsLabel) termsLabel.classList.remove('error');
                          }
                     }
                } else {
                      const label = container.querySelector(`label[for="${field.id}"]`);
                      if (label) label.classList.remove('error');
                }
            }

             function toggleNotificationDropdown() {
                if (notificationDropdown) {
                    notificationDropdown.classList.toggle('visible');
                }
            }

            function closeNotificationDropdown() {
                 if (notificationDropdown) {
                    notificationDropdown.classList.remove('visible');
                 }
            }

            function showAnnouncement() {
                if (announcementOverlay) {
                    announcementOverlay.classList.add('visible');
                    manageBodyScroll();
                }
            }

            function closeAnnouncement() {
                if (announcementOverlay) {
                    announcementOverlay.classList.remove('visible');
                    manageBodyScroll();
                }
            }

            let currentStep = 1;
            const totalSteps = 4;
            const wizardData = JSON.parse(localStorage.getItem('wizardData') || '{}');

            function showStep(step) {
              document.querySelectorAll('.wizard-step-content').forEach((el, idx) => {
                el.classList.toggle('active', idx === step - 1);
              });
              document.querySelectorAll('.wizard-step').forEach((el, idx) => {
                el.classList.toggle('active', idx === step - 1);
                el.classList.toggle('completed', idx < step - 1);
              });
              currentStep = step;
              updateProgressBar();
            }

            function saveStepData(step) {
              const stepContent = document.querySelector('.wizard-step-content.step-' + step);
              if (!stepContent) return;
              const inputs = stepContent.querySelectorAll('input, select, textarea');
              wizardData['step' + step] = {};
              inputs.forEach(input => {
                if (input.type === 'checkbox') {
                  wizardData['step' + step][input.name] = input.checked;
                } else if (input.type === 'radio') {
                  if (input.checked) wizardData['step' + step][input.name] = input.value;
                } else {
                  wizardData['step' + step][input.name] = input.value;
                }
              });
              localStorage.setItem('wizardData', JSON.stringify(wizardData));
            }

            function restoreStepData(step) {
              const data = wizardData['step' + step] || {};
              const stepContent = document.querySelector('.wizard-step-content.step-' + step);
              if (!stepContent) return;
              const inputs = stepContent.querySelectorAll('input, select, textarea');
              inputs.forEach(input => {
                if (input.type === 'checkbox') {
                  input.checked = !!data[input.name];
                } else if (input.type === 'radio') {
                  input.checked = (data[input.name] === input.value);
                } else if (data[input.name] !== undefined) {
                  input.value = data[input.name];
                }
              });
            }

            function updateProgressBar() {
              const steps = document.querySelectorAll('.wizard-step');
              steps.forEach((el, idx) => {
                el.classList.toggle('active', idx === currentStep - 1);
                el.classList.toggle('completed', idx < currentStep - 1);
              });
              const progress = document.querySelector('.wizard-progress');
              if (progress) {
                const percent = ((currentStep - 1) / (totalSteps - 1)) * 100;
                progress.style.background = 'linear-gradient(90deg, #FFD700 0%, #FFD700 ' + percent + '%, #1a1a1a ' + percent + '%, #1a1a1a 100%)';
              }
            }

            document.getElementById('create-order-form').addEventListener('click', function(e) {
              if (e.target.classList.contains('next-step')) {
                e.preventDefault();
                saveStepData(currentStep);
                if (currentStep < totalSteps) {
                  showStep(currentStep + 1);
                  restoreStepData(currentStep);
                }
              }
              if (e.target.classList.contains('prev-step')) {
                e.preventDefault();
                saveStepData(currentStep);
                if (currentStep > 1) {
                  showStep(currentStep - 1);
                  restoreStepData(currentStep);
                }
              }
            });

            initializeActiveSubmenu();
            updateDateTime();
            setInterval(updateDateTime, 1000);

            if (mobileSidebarToggleBtn) mobileSidebarToggleBtn.addEventListener('click', toggleSidebarMobileOrDesktop);
            if (sidebarOverlay) sidebarOverlay.addEventListener('click', toggleSidebarMobileOrDesktop);
            if (desktopSidebarToggleBtn) desktopSidebarToggleBtn.addEventListener('click', toggleSidebarMobileOrDesktop);
            document.querySelectorAll('.menu-items .submenu-parent').forEach(link => link.addEventListener('click', toggleSubmenu));
            if (fullscreenBtn) fullscreenBtn.addEventListener('click', toggleFullscreen);
            document.addEventListener('fullscreenchange', handleFullscreenChange);

            if (agreeCheckbox && agreeButton) {
                agreeCheckbox.addEventListener('change', () => { agreeButton.disabled = !agreeCheckbox.checked; });
            }
            if (agreeButton) agreeButton.addEventListener('click', handleAgree);
            const closeHandler = () => closeModal();
            if (exitButtonX) exitButtonX.addEventListener('click', closeHandler);
            if (exitButtonFooter) exitButtonFooter.addEventListener('click', closeHandler);

           if (form) {
               form.addEventListener('submit', function(event) {
                   event.preventDefault();
                   if (termsModal && termsModal.classList.contains('active')) {
                       alert('Vui lòng đóng cửa sổ Điều khoản Quy định trước khi tiếp tục.');
                       termsModal.focus();
                       return;
                   }
                   let isFormValid = true;
                    form.querySelectorAll('.error').forEach(el => el.classList.remove('error'));
                    form.querySelectorAll('.error-message').forEach(el => el.remove());
                    form.querySelectorAll('.form-label.error, label.error').forEach(lbl => lbl.classList.remove('error'));
                    const termsCheckbox = document.getElementById('terms_agree');
                    if (termsCheckbox && !termsCheckbox.checked) {
                        isFormValid = false;
                        addErrorMessage(termsCheckbox, 'Bạn phải đồng ý với Điều khoản quy định của đơn hàng.');
                    } else if (termsCheckbox) {
                        removeErrorMessage(termsCheckbox);
                    }
                    const requiredFields = form.querySelectorAll('[required]');
                    const radioGroupsValidated = {};
                    requiredFields.forEach(input => {
                        if (input.id === 'terms_agree') return;
                        if (input.type === 'radio') {
                            const groupName = input.name;
                            if (!radioGroupsValidated[groupName]) {
                                const checkedRadio = form.querySelector(`input[name="${groupName}"]:checked`);
                                if (!checkedRadio) {
                                    isFormValid = false;
                                    addErrorMessage(input, 'Vui lòng chọn một tùy chọn.');
                                } else {
                                    form.querySelectorAll(`input[name="${groupName}"]`).forEach(radio => removeErrorMessage(radio));
                                }
                                radioGroupsValidated[groupName] = true;
                            }
                        } else if (input.type === 'checkbox' && input.required) {
                            if (!input.checked) {
                                isFormValid = false;
                                addErrorMessage(input, 'Tùy chọn này là bắt buộc.');
                            } else {
                                removeErrorMessage(input);
                            }
                        } else if (
                            (input.tagName === 'INPUT' || input.tagName === 'SELECT' || input.tagName === 'TEXTAREA') &&
                            !input.value.trim() && input.type !== 'radio' && input.type !== 'checkbox'
                        ) {
                            isFormValid = false;
                            addErrorMessage(input, 'Trường này là bắt buộc.');
                        } else if (input.tagName === 'INPUT' || input.tagName === 'SELECT' || input.tagName === 'TEXTAREA') {
                            removeErrorMessage(input);
                        }
                    });
                    if (isFormValid) {
                        const formData = {};
                        form.querySelectorAll('input, select, textarea').forEach(input => {
                            if (input.type === 'checkbox' && input.name === 'add_service[]') {
                                if (!formData['add_service[]']) formData['add_service[]'] = [];
                                if (input.checked) formData['add_service[]'].push(input.value);
                            } else if (input.type === 'checkbox') {
                                formData[input.name] = input.checked;
                            } else if (input.type === 'radio') {
                                if (input.checked) formData[input.name] = input.value;
                            } else {
                                formData[input.name] = input.value;
                            }
                        });
                        localStorage.setItem('createPackageStep1', JSON.stringify(formData));
                        window.location.href = 'create-package-step2.html';
                        setTimeout(function(){ localStorage.removeItem('createPackageStep1'); }, 1000);
                    } else {
                        const firstErrorField = form.querySelector('.error');
                        if (firstErrorField) {
                            const elementToScroll = firstErrorField.closest('.form-group, .terms-agreement') || firstErrorField;
                            elementToScroll.scrollIntoView({ behavior: 'smooth', block: 'center' });
                        }
                    }
               });

               form.addEventListener('reset', function() {
                    form.querySelectorAll('.error').forEach(el => el.classList.remove('error'));
                    form.querySelectorAll('.error-message').forEach(el => el.remove());
                    form.querySelectorAll('.form-label.error, label.error').forEach(lbl => lbl.classList.remove('error'));
               });
           }

             if (announcementOverlay && announcementOverlay.classList.contains('visible')) {
                closeAnnouncement();
            }
            if (notificationButton) notificationButton.addEventListener('click', (event) => { event.stopPropagation(); toggleNotificationDropdown(); });
            if (notificationList) {
                notificationList.addEventListener('click', (event) => {
                    const clickedItem = event.target.closest('.notification-item');
                    if (clickedItem && announcementTitle && announcementBodyEl && announcementTimestamp) {
                        const title = clickedItem.dataset.title || 'Thông báo';
                        const bodyText = clickedItem.dataset.body || 'Không có nội dung.';
                        const timestamp = clickedItem.dataset.timestamp || '';
                        announcementTitle.textContent = title;
                        announcementBodyEl.innerHTML = '';
                        bodyText.split('||').forEach(paragraphText => {
                            if(paragraphText.trim()) {
                                const p = document.createElement('p');
                                p.textContent = paragraphText.trim();
                                announcementBodyEl.appendChild(p);
                            }
                        });
                        announcementTimestamp.textContent = timestamp;
                        showAnnouncement();
                        closeNotificationDropdown();
                    }
                });
            }
            document.addEventListener('click', (event) => {
                if (notificationDropdown && notificationDropdown.classList.contains('visible')) {
                    if (!notificationDropdown.contains(event.target) && event.target !== notificationButton && !notificationButton.contains(event.target)) {
                        closeNotificationDropdown();
                    }
                }
            });
            if (announcementCloseBtn) announcementCloseBtn.addEventListener('click', closeAnnouncement);
            if (announcementOverlay) {
                announcementOverlay.addEventListener('click', (event) => { if (event.target === announcementOverlay) closeAnnouncement(); });
            }
            document.addEventListener('keydown', (event) => {
                if (event.key === 'Escape') {
                    if (termsModal && termsModal.classList.contains('active')) {
                         closeModal();
                    } else if (announcementOverlay && announcementOverlay.classList.contains('visible')) {
                        closeAnnouncement();
                    } else if (notificationDropdown && notificationDropdown.classList.contains('visible')) {
                        closeNotificationDropdown();
                    }
                }
            });

            openModal();
        });

        document.addEventListener('DOMContentLoaded', function() {
            function renderUserDropdown() {
                const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
                const userToggle = document.getElementById('user-dropdown-toggle');
                const userDropdown = document.getElementById('user-dropdown');
                if (!userToggle || !userDropdown) return;
                if (!isLoggedIn) {
                    userToggle.innerHTML = `
                        <div style="background: linear-gradient(135deg, #ffe066 0%, #a78bfa 100%); border-radius: 50%; width: 44px; height: 44px; display: flex; align-items: center; justify-content: center;">
                            <i class="fa-regular fa-circle-user user-icon" style="color: #4F46E5; font-size: 1.5em;"></i>
                        </div>
                    `;
                    userDropdown.innerHTML = `
                        <a href="#" class="user-dropdown-item" id="login-menu-item">
                            <i class="fa-solid fa-right-to-bracket"></i> Đăng nhập
                        </a>
                    `;
                } else {
                    userToggle.innerHTML = `
                        <div >
                            <i class="fa-regular fa-circle-user user-icon" style="color: #4F46E5; font-size: 1.5em;"></i>
                        </div>
                    `;
                    userDropdown.innerHTML = `
                        <div class="user-info">
                            <div class="user-avatar"><i class="fa-regular fa-circle-user"></i></div>
                            <div class="user-details">
                                <div>Phạm Hoàng Đình</div>
                                <div>Quản trị viên</div>
                            </div>
                        </div>
                        <hr>
                        <a href="#" class="user-dropdown-item"><i class="fa-regular fa-user"></i> Thông tin cá nhân</a>
                        <a href="#" class="user-dropdown-item"><i class="fa-solid fa-gear"></i> Cài đặt tài khoản</a>
                        <a href="#" class="user-dropdown-item"><i class="fa-solid fa-bell"></i> Thông báo</a>
                        <a href="#" class="user-dropdown-item"><i class="fa-solid fa-shield-halved"></i> Bảo mật</a>
                        <hr>
                        <a href="#" class="user-dropdown-item" id="logout-menu-item"><i class="fa-solid fa-right-from-bracket"></i> Đăng xuất</a>
                    `;
                }
                setTimeout(() => {
                    const loginItem = document.getElementById('login-menu-item');
                    if (loginItem) loginItem.onclick = function(e) { e.preventDefault(); window.location.href = 'login.html'; };
                    const logoutItem = document.getElementById('logout-menu-item');
                    if (logoutItem) logoutItem.onclick = function(e) { e.preventDefault(); localStorage.removeItem('isLoggedIn'); window.location.reload(); };
                }, 100);
            }
            renderUserDropdown();
            window.addEventListener('storage', renderUserDropdown);

            // Dropdown show/hide
            const userToggle = document.getElementById('user-dropdown-toggle');
            const userDropdown = document.getElementById('user-dropdown');
            if(userToggle && userDropdown){
                userToggle.addEventListener('click', function(e){
                    e.stopPropagation();
                    userDropdown.classList.toggle('show');
                });
                document.addEventListener('click', function(e){
                    if(!userDropdown.contains(e.target) && e.target !== userToggle){
                        userDropdown.classList.remove('show');
                    }
                });
            }
        });
    </script>

</body>
</html>